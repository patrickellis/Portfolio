<html lang="en">
<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2KZ8F6FBDK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2KZ8F6FBDK');
</script>
  <title>Portfolio - Patrick Ellis</title>
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
  <link rel="stylesheet" href="../../css/stylemain.css">
  <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tilt.js/1.2.1/tilt.jquery.min.js"></script>

</head>
<body onresize="resize()">

  <div id="large-header" class="large-header">
   <canvas id="animated-canvas"></canvas>
   </div>
  <div class="js-shell shell">
    <div class="shell__button--drop shell__button"></div>
    <div class="shell__button--menu shell__button" id="shell__button--menu__js">
      <div class="button__hitarea" id="button__hitarea__js"></div>
        <div class="button__icon" id="button__icon__id">
          <svg>
            <use xlink:href='#icon-temp-menu'>
              <symbol id="icon-temp-menu" viewBox="0 0 20 16">
                <g id="temp-menu-Page-2" fill-rule="evenodd">
                  <g id="temp-menu-Artboard-Copy-3" transform="translate(-1390, -24)">
                    <g id="temp-menu-noun_menu_93427" transform="translate(1390,24)">
                      <rect id="temp-menu-Rectangle" x="0" y="0" width="22" height="2"></rect>
                      <rect id="temp-menu-Rectangle" x="0" y="7" width="22" height="2"></rect>
                      <rect id="temp-menu-Rectangle" x="0" y="14" width="22" height="2"></rect>
                      </g>
                    </g>
                  </g>
                </symbol>
            </use>
            </svg>
            </div>
            <span class="js-button__text button__text" id="button__text__js">Menu</span>
        </div>

      <div class="shell__button--project shell__button" id="shell__button__id">
        <div class="button__text">
          <span class="js-close-project">Close Project</span>
          <span class="js-close-reel">Close Showreel</span>
          <span class="js-close-overview" id="close_text">Close Project</span>
          </div>
          <span class="button__divider"></span>
          </div>
          <div class = "static" id="static"></div>
  <div class="rootnode" id = "js-rootnode">
    <div class="work-page">
      <div class="work__quicknav" style="display:block;">
        <div class="quicknav__arrow quicknav__arrow--up" id="quicknav--up" style="left: 12.8rem;">
          <span class="button__icon">
            <canvas id="arrow--up" width="19" height="85" style="width:19px; height:85px;"></canvas>
            <span>
        </div>

        <div class="quicknav__arrow quicknav__arrow--down" id="quicknav--down">
          <span class="button__icon">
            <canvas id="arrow--down" width="19" height="85" style="width:19px; height:85px;" ></canvas>
            <span>
        </div>
        </div>
        <div class = "projects js-projects is-enabled">
          <div class="project" id="project_one">
            <div class="js-project__header project__header">
              <div class="js-project__title project__title has-text-effect">
                <div class="inner">
                  <span>Jane Street Puzzle Algorithms</span>
                  </div>
                </div>
                <div class="js-project__description project__description has-text-effect" id="project-description-one">
                  <p>
                    For several months now, I have been coding algorithmic solutions to many of the puzzles hosted by Jane Street.
                    I have a passion for problem solving and thinking through challenging puzzles - where possible I have not only
                    coded algorithms to crack these puzzles but also derived the answers mathematically.
                        </p>
                  </div>
                <div class="js-project__information project__information">
                  <div class="information__item">
                    <h4>SOURCE</h4>
                    <p> Jane Street</p>
                    </div>
                    <div class="information__item">
                      <h4>Technologies</h4>
                      <p> C++, Python GUI wrappers, PHP</p>
                      </div>
                      <div class="information__item">
                        <h4>DATE</h4>
                        <p> March 2021 -</p>
                        </div>
                      </div>
                    </div>
                    <div class="js-project__body project__body" id="project__body">
                      <div class="js-project__videoloop project__videoloop" id="video-one">
                        <div class="js-video video video--project">
                          <div class="js-video__player video__player">
                            <video loop autoplay muted id="vid">
                              <source type="video/mp4" src="https://player.vimeo.com/external/529711103.hd.mp4?s=6636cfa3cdc6fd05a18b46bd1c62cd83264aa733&profile_id=174">
                                </video>
                              </div>
                            </div>
                          </div>
                          <div class="js-project__videoloop project__videoloop" id="video-two">
                            <div class="js-video video video--project">
                              <div class="js-video__player video__player">
                                <video loop autoplay muted id="vid">
                                  <source type="video/mp4" src="https://player.vimeo.com/external/529711103.hd.mp4?s=6636cfa3cdc6fd05a18b46bd1c62cd83264aa733&profile_id=174">
                                    </video>
                                  </div>
                                </div>
                              </div>
                      <div class="project__headline" id="headline-one">
                        <div class="headline__divider"></div>
                        <div class="headline__title">
                          <span>Circle Time</span>
                          </div>
                        <div class="js-body headline__body">
                          <p>
                              Circle Time references a ring of circles whose centers lie on the vertices of a regular hexagon with side length 2r.
                              Given a circle C, we need to find the maximum proportion of the area of that circle that we can cover with rings of circles that
                              do not overlap!
                              <br><br>
                              Answer: 0.783464
                          </p>
                          <div class = "headline__links">
                            <a href = "https://github.com/patrickellis/JaneStreetPuzzles/blob/main/June_2020/June_2020.cpp" target="_blank" class="js-work__menu--list-btn work__menu-list-btn">
                              <span> Github </span>
                              <span class="underline fade"></span>
                            </a>
                            </div>
                        </div>

                  </div>
                  <div class="project__headline" id="headline-two">
                    <div class="headline__divider"></div>
                    <div class="headline__title">
                      <span>Personalised, with Pizza</span>
                      </div>
                    <div class="js-body headline__body">
                      <p>
                        When COVID-19 hit, YouTube needed to reimagine Brandcast for the age of quarantine. They envisioned a watch-from-home Brandcast video, delivered with pizza, where invitees could personalize their Brandcast story as easily as their pizza toppings. To turn the innovative concept into a reality, YouTube came to Resn and its dynamic video-creation platform, Cake.
                      </p>
                    </div>

              </div>
              <div class="js-project__text project__text" id="text-one">
                <div class="text__title">
                  <h3>Choose-Your-Own Video</h3>
                  </div>
                  <div class="js-text__body text__body">
                    <p>
                      Brandcast Delivered began with invitations for guests to visit a private link. Here, invitees could enter their names and select both pizza and video options from an à la carte menu. Video options included five content categories, including Food & Recipes and Sports, four YouTube creator hosts, such as Gordon Ramsay and Lilly Singh, and three musical tracks, from Tones And I, Dua Lipa, and Lizzo.
                    </p>
                </div>
                </div>

              <div class="project__image" id="image-one">
                <div class="project__image-el" id="image-one-inner"></div>
              </div>
              <div class="project__image" id="image-two">
                <div class="project__image-el" id="image-two-inner"></div>
              </div>
              <div class="js-project__text project__text" id="text-two">
                <div class="text__title">
                  <h3>Choose-Your-Own Video</h3>
                  </div>
                  <div class="js-text__body text__body">
                    <p>
                      Brandcast Delivered began with invitations for guests to visit a private link. Here, invitees could enter their names and select both pizza and video options from an à la carte menu. Video options included five content categories, including Food & Recipes and Sports, four YouTube creator hosts, such as Gordon Ramsay and Lilly Singh, and three musical tracks, from Tones And I, Dua Lipa, and Lizzo.
                    </p>
                </div>
                </div>
                <div class="project__headline" id="headline-three">
                  <div class="headline__divider"></div>
                  <div class="headline__title">
                    <span>Personalised, with Pizza</span>
                    </div>
                  <div class="js-body headline__body">
                    <p>
                      When COVID-19 hit, YouTube needed to reimagine Brandcast for the age of quarantine. They envisioned a watch-from-home Brandcast video, delivered with pizza, where invitees could personalize their Brandcast story as easily as their pizza toppings. To turn the innovative concept into a reality, YouTube came to Resn and its dynamic video-creation platform, Cake.
                    </p>
                  </div>

            </div>

        </div>
        <div class="project__footer" id = "trigger1">
          <div class="js-project__awards project__awards"></div>
          <div class="js-project__launch project__launch">
            <div class="project__scroll no-url" id = "reveal1">
              <p>
                <span class="text">SCROLL FOR MENU</span>
                <span class="line"</span>
              </p>
            </div>
          </div>
        </div>
      </div>
      </div>
      </div>






    <script>
      $(function() {
      $('#js-rootnode').on("mousewheel", function() {
          //alert($('#js-rootnode').scrollTop());
          var menu_notif = document.getElementById("reveal1");
          var scrollval = $('#js-rootnode').scrollTop();
          if(document.body.clientWidth>2000){
            x = 5440;
          }
          else if(document.body.clientWidth>1450){
            x = 4140;
          }
          else if(document.body.clientWidth>1305){
            x = 3740;
          }
          else if(document.body.clientWidth>1150){
            x = 3300;
          }
          else if(document.body.clientWidth>980){
            x = 2750;
          }
          else if(document.body.clientWidth>599){
            x = 2100;
          }
          else if(document.body.clientWidth>0){
            x = 1200;
          }
          //alert(document.body.clientWidth);
          if(scrollval >= x+500&&scrollval > prev){
            menu_relocate('../work');
          }
          else if(scrollval >= x+380){
            menu_notif.style.opacity = "1";
          }
          else if(scrollval >= x+280){
            menu_notif.style.opacity = "0.6";
          }
          else if(scrollval >= x+180){
            menu_notif.style.opacity = "0.6";
          }
          else if(scrollval >= x+100){

            menu_notif.style.opacity = "0.3";
          }
          else if(scrollval >= x){

            menu_notif.style.opacity = "0.1";
          }



      });
  });
</script>
  <script>
    var scrolled=0;
    var root = document.getElementById("js-rootnode");
    root.style.opacity = "1";
    $(document).ready(function(){

      document.body.style.opacity="1";
        $("#arrow--down").on("click" ,function(){
                    scrolled=scrolled+450;

    				$(".rootnode").animate({
    				        scrollTop:  scrolled
    				   });
    			});

        $("#arrow--up").on("click" ,function(){
    				scrolled=scrolled-450;
    				$(".rootnode").animate({
    				        scrollTop:  scrolled
    				   });
    			});
    });





    function drawArrow(fromx, fromy, tox, toy,id,color){
                //variables to be used when creating the arrow
                var c = document.getElementById(id);
                var ctx = c.getContext("2d");
                const width = 2;
                var headlen = 6;
                var angle = Math.atan2(toy-fromy,tox-fromx);
                // This makes it so the end of the arrow head is located at tox, toy, don't ask where 1.15 comes from
                tox -= Math.cos(angle) * ((width*1.15));
                toy -= Math.sin(angle) * ((width*1.15));



                //starting path of the arrow from the start square to the end square and drawing the stroke
                ctx.beginPath();
                ctx.moveTo(fromx, fromy);
                ctx.lineTo(tox, toy);
                ctx.strokeStyle = color;
                ctx.lineWidth = width;
                ctx.stroke();

                //alert("v1: "+fromx+","+fromy);

                //starting a new path from the head of the arrow to one of the sides of the point
                ctx.beginPath();

                ctx.moveTo(tox, toy);
                //alert("v2: "+tox+","+toy);

                ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));
                //alert("v3: "+(tox-headlen*Math.cos(angle-Math.PI/7))+","+(toy-headlen*Math.sin(angle-Math.PI/7)));

                //path from the side point of the arrow, to the other side point
                //ctx.lineTo(tox-headlen*Math.cos(angle+Math.PI/7),toy-headlen*Math.sin(angle+Math.PI/7));

                //path from the side point back to the tip of the arrow, and then again to the opposite side point
                ctx.moveTo(tox-headlen*Math.cos(angle+Math.PI/7),toy-headlen*Math.sin(angle+Math.PI/7));
                //alert("v4: "+(tox-headlen*Math.cos(angle+Math.PI/7))+","+(toy-headlen*Math.sin(angle+Math.PI/7)));
                ctx.lineTo(tox, toy);
                ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));

                //draws the paths created above
                ctx.strokeStyle =  color;
                ctx.lineWidth = width;
                ctx.stroke();
            }

    drawArrow(9,35,9,81,"arrow--down","#FFF");
    drawArrow(9,50,9,4,"arrow--up","#FFF");

    $("#button__text__js").hover(function(){
      var project_close = document.getElementById("shell__button__id");
      var menu_text = document.getElementById("button__text__js");
      $(project_close).toggleClass('shiftleft');
      $(menu_text).toggleClass('visible');
    });
    $("#button__icon__id").hover(function(){
      var project_close = document.getElementById("shell__button__id");
      var menu_text = document.getElementById("button__text__js");
      $(project_close).toggleClass('shiftleft');
      $(menu_text).toggleClass('visible');
    });
    var up = document.getElementById("quicknav--up");
    $("#button__hitarea__js").hover(function(){
      var project_close = document.getElementById("shell__button__id");
      var menu_text = document.getElementById("button__text__js");
      $(project_close).toggleClass('shiftleft');
      $(menu_text).toggleClass('visible');
    });

    function menu_relocate(target){
      document.body.style.opacity="0";
      var rootnode = document.getElementById("js-rootnode");

      rootnode.style.opacity=0;
      rootnode.style.MozTransition = "0.5s";
      rootnode.style.WebkitTransition  = "0.5s";
      var project_close = document.getElementById("shell__button__id");
      project_close.style.opacity=0;
      var menu = document.getElementById("shell__button--menu__js");
      menu.style.opacity = 1;

      var menu_text = document.getElementById("button__text__js");

      setTimeout(function(){
              window.location.replace(target);
        }, 150);

    }
    $("#shell__button__id").hover(function(){
    var body = document.body;
    //body.classList.add("opacity");
    var rootnode = document.getElementById("js-rootnode");
    var header = document.getElementById("large-header");
    var menu = document.getElementById("shell__button--menu__js");
    $(rootnode).toggleClass('opacity');
    $(header).toggleClass('opacity');
    $(menu).toggleClass('opacity');
    });
    $("#shell__button__id").click(function(){
      menu_relocate("../work");
    });
    $("#button__text__js").click(function(){
      menu_relocate("../menu");
    });
    $("#button__icon__id").click(function(){
      menu_relocate("../menu");
    });
    $("#button__hitarea__js").click(function(){
      menu_relocate("../menu");
    });
    $("#shell__button__id").on("mouseleave", function(){
      var body = document.body;
      //$(body).toggleClass('opacity');
      var rootnode = document.getElementById("js-rootnode");
      //$(rootnode).toggleClass('opacity');
    });

    $("#quicknav--down").hover(function(){
      var uparrow = document.getElementsByClassName("quicknav__arrow--down")[0];
      var canvas = document.getElementById("arrow--down");
      var ctx = canvas.getContext("2d");
      ctx.lineWidth = 2;
      ctx.clearRect(0,0,canvas.width, canvas.height);
      //CHANGE THIS TO #828282 for GREY ARROW ON HOVER TO BE REDRAWN
      drawArrow(9,35,9,81,"arrow--down","#FFF");
      uparrow.style.transform="translate3d(0px,10px,0px)";
    });

    $("#quicknav--down").on("mouseleave", function(){
      var uparrow = document.getElementsByClassName("quicknav__arrow--down")[0];
      uparrow.style.transform="translate3d(0px,0px,0px)";
    });

    $("#quicknav--up").hover(function(){
      var uparrow = document.getElementsByClassName("quicknav__arrow--up")[0];
      var canvas = document.getElementById("arrow--up");
      var ctx = canvas.getContext("2d");
      ctx.lineWidth = 2;
      ctx.clearRect(0,0,canvas.width, canvas.height);
      //CHANGE THIS TO #828282 for GREY ARROW ON HOVER TO BE REDRAWN
      drawArrow(9,50,9,4,"arrow--up","#FFF");
      uparrow.style.transform="translate3d(0px,-10px,0px)";

    });
    $("#quicknav--up").on("mouseleave", function(){
      var uparrow = document.getElementsByClassName("quicknav__arrow--up")[0];
      uparrow.style.transform="translate3d(0px,0px,0px)";
    });

  </script>
  <script>
    jQuery.fn.arrowcenter = function(side,id) {
      var width = $( window ).width();
      var overview_width = $("#js_work__overview").width();
      var diff = (width - overview_width) / 2;
      var percent = (diff / width) * 100;
      var s = '' + percent + '%';
      var container = $(window);
      var top = -this.height() / 2;
      var left = -this.width() / 2;
      //alert("s: "+s+", projectlist width: "+overview_width+", width: " +width);
      if(side=="left"){
        var uparrow = document.getElementsByClassName("quicknav__arrow--up")[0];
        uparrow.style.left = (diff/2).toString() + "px";
      }
      if(side=="right"){
        var downarrow = document.getElementsByClassName("quicknav__arrow--down")[0];
        downarrow.style.right=(diff/2).toString() + "px";
      }


  }
  //project_one
    jQuery.fn.center = function(id,container) {
      var width = $( window ).width();
      var overview_width = $("#project_one").width();
      var diff = (width - overview_width) / 2;
      var percent = (diff / width) * 100;
      var s = '' + percent + '%';
      var top = -this.height() / 2;
      var left = -this.width() / 2;
      //alert("s: "+s+", projectlist width: "+overview_width+", width: " +width);
      return $("#project_one").css({ 'left': s});

  }
  window.onresize = function() {
  $('#project_one').center("#project_one",window);
  //$('#video-one').center("#video_one","#project__body");
  //$('#quicknav--up').arrowcenter("left",'#quicknav--up');
  //$('#quicknav--down').arrowcenter("right",'#quicknav--down');
}
  </script>
  <script>
    $( document ).ready(function(){
      var canvas = document.getElementById("large-header");
      var projects = document.getElementById("shell__button__id");
      var static = document.getElementById("static");
      static.style.opacity=0;

      canvas.style.opacity=1;
      projects.style.opacity = 1;

      var uparrow = document.getElementsByClassName("quicknav__arrow--up")[0];
      var downarrow = document.getElementsByClassName("quicknav__arrow--down")[0];
      $(uparrow).toggleClass('active-two');
      $(downarrow).toggleClass('active-two');
      setTimeout(function(){
        $(uparrow).toggleClass('active-two');
        $(downarrow).toggleClass('active-two');
      },500);
      $('#js_work__overview').center();
      $('#quicknav--up').arrowcenter("left",'#quicknav--up');
      $('#quicknav--down').arrowcenter("right",'#quicknav--down');
      //var body = document.body;
      //body.style.opacity=1;
      var overview = document.getElementById("js_work__overview");
      var header = document.getElementById("project-header");
      header.style.top = "0px";
      overview.style.top = "0px";
      var rootnode = document.getElementById("js-rootnode");
      rootnode.style.opacity = 1;
      var elements = document.getElementsByClassName("secondary");
      for (var i = 0, len = elements.length; i < len; i++) {
        var id;
        if(i==0){
          id = "first-cat"
        }
        if(i==1){
          id = "second-cat"
        }
        if(i==2){
          id = "third-cat"
        }
        if(i==3){
          id = "fourth-cat"
        }
        var el = document.getElementById(id);
        var offset = 20 + (i * 20);
        var o = offset.toString() + "px";
        el.style.paddingBottom = o;

      }
    });
    var canCall = true;
    $('.is-selected .has-text-effect').on('click', function(){
      //$(this).toggleClass('clicked');
      var arrow = document.getElementById("arrow");
      if(!canCall){
        return;
      }

      //arrow.classList.add("active");
      //arrow.css("transform","rotate(45deg)");
      var elements = document.getElementsByClassName("secondary");
      for (var i = 0, len = elements.length; i < len; i++) {
        var id;
        if(i==0){
          id = "first-cat"
        }
        if(i==1){
          id = "second-cat"
        }
        if(i==2){
          id = "third-cat"
        }
        if(i==3){
          id = "fourth-cat"
        }
        var el = document.getElementById(id);

        if(elements[i].style.opacity == 0){
            elements[i].style.opacity = 0.5;

            el.style.paddingBottom = "0px";
        }
        else{
          elements[i].style.opacity=0;
          var offset = 20 + (i * 20);
          var o = offset.toString() + "px";
          el.style.paddingBottom = o;



          //elements[i].style.bottom=o;
        }
        $(elements[i]).toggleClass('active');
    // elements[i].style ...
      }
      var uparrow = document.getElementsByClassName("quicknav__arrow--up")[0];
      var downarrow = document.getElementsByClassName("quicknav__arrow--down")[0];
      if(uparrow.classList.contains('active-two')){
          $(uparrow).toggleClass('active-two');
          $(downarrow).toggleClass('active-two');
      }
      else{
        $(uparrow).toggleClass('active');
        $(downarrow).toggleClass('active');

        if(uparrow.classList.contains('active')){
          setTimeout(function(){
            $(uparrow).toggleClass('active');
            $(downarrow).toggleClass('active');
            $(uparrow).toggleClass('active-two');
            $(downarrow).toggleClass('active-two');
          },500);
        }

      }

      //$(uparrow).toggleClass('active-two');
      var e =  document.getElementsByClassName("overview__projectItem");
      var p = document.getElementsByClassName("overview__projectItem__poster");

      for (var i = 0, len = e.length; i < len; i++) {


        $(e[i]).toggleClass('active');
        $(p[i]).toggleClass('active');

      }
      //var wo = document.getElementById("overview_id");
      //$(wo).toggleClass('active');
      canCall = false;
      setTimeout(function(){
            canCall = true;
        }, 100);

    });



</script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/sw.js').then(function(registration) {
        // Registration was successful
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
      }, function(err) {
        // registration failed :(
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  }
  </script>
<script>
  //Mousewheel plugin
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d:d(jQuery)})(function(d){function l(a){var b=a||window.event,k=r.call(arguments,1),f=0,e=0,c=0,g=0,l=0,n=0;a=d.event.fix(b);a.type="mousewheel";"detail"in b&&(c=-1*b.detail);"wheelDelta"in b&&(c=b.wheelDelta);"wheelDeltaY"in b&&(c=b.wheelDeltaY);"wheelDeltaX"in b&&(e=-1*b.wheelDeltaX);"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(e=-1*c,c=0);f=0===c?e:c;"deltaY"in b&&(f=c=-1*b.deltaY);"deltaX"in
b&&(e=b.deltaX,0===c&&(f=-1*e));if(0!==c||0!==e){1===b.deltaMode?(g=d.data(this,"mousewheel-line-height"),f*=g,c*=g,e*=g):2===b.deltaMode&&(g=d.data(this,"mousewheel-page-height"),f*=g,c*=g,e*=g);g=Math.max(Math.abs(c),Math.abs(e));if(!h||g<h)h=g,m.settings.adjustOldDeltas&&"mousewheel"===b.type&&0===g%120&&(h/=40);m.settings.adjustOldDeltas&&"mousewheel"===b.type&&0===g%120&&(f/=40,e/=40,c/=40);f=Math[1<=f?"floor":"ceil"](f/h);e=Math[1<=e?"floor":"ceil"](e/h);c=Math[1<=c?"floor":"ceil"](c/h);m.settings.normalizeOffset&&
this.getBoundingClientRect&&(b=this.getBoundingClientRect(),l=a.clientX-b.left,n=a.clientY-b.top);a.deltaX=e;a.deltaY=c;a.deltaFactor=h;a.offsetX=l;a.offsetY=n;a.deltaMode=0;k.unshift(a,f,e,c);p&&clearTimeout(p);p=setTimeout(t,200);return(d.event.dispatch||d.event.handle).apply(this,k)}}function t(){h=null}var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,
p,h;if(d.event.fixHooks)for(var q=n.length;q;)d.event.fixHooks[n[--q]]=d.event.mouseHooks;var m=d.event.special.mousewheel={version:"3.1.12",setup:function(){console.log("setup mousewheel");if(this.addEventListener)for(var a=k.length;a;)this.addEventListener(k[--a],l,!1);else this.onmousewheel=l;d.data(this,"mousewheel-line-height",m.getLineHeight(this));d.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=k.length;a;)this.removeEventListener(k[--a],
l,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height");d.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){return 16},getPageHeight:function(a){return a.offsetHeight},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});


//Animation helper
(function(r,a,t){var b=b||{};b.now=function(){return b.now||b.mozNow||b.msNow||b.oNow||b.webkitNow||function(){return(new Date).getTime()}}();a.EasyAnimationFrame=a.EAF=function(l,m,n){var c=n||0,g=0,e=!0,h,f,d;this.startAnimation=function(){e&&(d=b.now(),f=d+c,e=!1,k())};this.clearAnimation=function(){p(h);e=!0};this.updateFrameDelay=function(a){c=Number(a);f=b.now()+c};this.getFrameDelay=function(){return c};this.getFramerate=function(){return g};var k=function(){if(!e){var a=b.now();0>=f-a&&(f=
a+c,d<a+1E3&&(g=Math.round(1E3/(a-d)),d=a,l()));h=q(k,m)}},q=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b,d){return a.setTimeout(b,1E3/60+c)}}(),p=a.cancelAnimationFrame||a.webkitCancelRequestAnimationFrame||clearTimeout;return this}})(document,window);


//SETUP

var scroller = document.getElementById('js-rootnode');
var itemLength = 300;

var frag = document.createDocumentFragment();


scroller.appendChild(frag);


var Inertial = function(){
     var _this = this;

     this.atStart = false;
     this.atEnd = false;
     this.running = false;
     this.scrolldir = 0;
     this.dir = 0
     this.fricton = 0.90; // higher value for slower deceleration
     this.vy = 0;
     this.stepAmt = 10;
     this.minMovement = 0.1;
     this.ts = 0.1;
     this.scrollerPos = 0;
     this.prevScrollerPos = null;
     this.currentY = 0;
     this.targetY = 0;
     this.oldY = 0;
     this.wheelSpeed = 1;

     this.contentHeight = scroller.scrollHeight;
     this.scrollerHeight = scroller.offsetHeight;

     this.animator = EasyAnimationFrame(function(){
         _this.render();
     }, scroller, 0);


    this._Init();

}


Inertial.prototype._Init = function(){
    var _this = this;

    $(scroller).on('mousewheel', function(event, delta, deltaX, deltaY){
          event.preventDefault();
          _this.performScroll(event);
    });
}


Inertial.prototype.performScroll = function(event, delta){

     this.onWheel(delta || event.deltaY);

    //if animation loop is not running and we are not
    //scrolled to the top or the bottom. start the loop.
     if(this.running ||
        this.atStart && this.scrolldir > 0 ||
        this.atEnd && this.scrolldir < 0
     ){ return; }


	//reset internal scroll pos when loop starts
    this.scrollerPos = scroller.scrollTop;
    this.running=true;
    this.atEnd = false;
    this.atStart = false
    this.animator.startAnimation();


}

Inertial.prototype.onWheel = function(delta) {
       //set the scroll direction
       this.dir = ((delta * this.wheelSpeed) < 0 ? -1 : 1);
       if (this.dir !== this.scrolldir) {
           //reset accel
           this.vy = 0;
           this.scrolldir = this.dir;
        }
        //begin smoothing algorithm
        this.smoothWheel(-(delta * this.wheelSpeed));
}

Inertial.prototype.smoothWheel = function(amt) {
       this.targetY += amt;

       //uncomment this line to see the decelleration almost work against the top edge of the container
       //this.targetY = Math.max(0, this.targetY);

       this.vy += (this.targetY - this.oldY) * this.stepAmt;
       this.oldY = this.targetY;

       this.boundVelocity();
}

Inertial.prototype.boundVelocity = function () {
    var dist = 0;

    if (this.dir == 1)
        dist = this.scrollerPos;
    else if (this.dir == -1)
        dist = this.contentHeight - this.scrollerHeight - this.scrollerPos;

    var maxv = dist * (1 - this.fricton) + 1;

    if (Math.abs(this.vy) > maxv) {
        console.log('reduce velocity ' + this.vy + ' to ' + (-maxv * this.dir) + ', dist: ' + dist);
        this.vy = -maxv * this.dir;
    }
}

Inertial.prototype.render = function() {

    if(this.vy >= -(this.minMovement) && this.vy <= this.minMovement) { return; }

     this.scrollerPos += this.vy;

     if(this.scrollerPos <= 0){
         this.reset(0);
         this.atStart = true;
     }
     else if(this.scrollerPos >= this.contentHeight - this.scrollerHeight){
         this.reset(this.contentHeight - this.scrollerHeight);
         this.atEnd = true;
     }
     else {
        this.atStart = false;
        this.atEnd = false;
     }

     if(this.prevScrollerPos !== this.scrollerPos) {
		//physically set the scroll position
         scroller.scrollTop = this.scrollerPos;
         this.prevScrollerPos = this.scrollerPos;
     }

//console.log(this);
     this.vy *= this.fricton;
     console.log('friction vy: ' + this.vy);
     this.boundVelocity();

    //Stop the animation loop if we are no longer scrolling
     if(Math.abs(this.vy) < 0.1 || this.atStart || this.atEnd){
         this.running = false;
         this.animator.clearAnimation();
         this.vy = 0;
      }


}


Inertial.prototype.reset = function(y) {
    this.scrolldir = 0;
    this.dir = 0;
    this.scrollerPos = y;
    this.currentY = y;
    this.targetY = y;
    this.oldY = y;
    this.vy = 0;
}



var smoothScroller = new Inertial();

</script>
<script>
  ( function( $ ) {

	"use strict";

  $(".overview__projectItem__poster").tilt({
    maxTilt: 15,
    perspective: 1400,
    easing: "cubic-bezier(.03,.98,.52,.99)",
    speed: 1200,
    glare: true,
    maxGlare: 0.2,
    scale: 0.95
  });

}( jQuery ) );
</script>
<script>

(function() {
    var width, height, largeHeader, canvas, ctx, circles, target, animateHeader = true;
    initHeader();
    addListeners();
    function initHeader() {
        width = window.innerWidth;
        height = window.innerHeight;
        target = {x: 0,y: height};
        largeHeader = document.getElementById('large-header');
        largeHeader.style.height = height + 'px';
        canvas = document.getElementById('animated-canvas');
        canvas.width = width;
        canvas.height = height;
        ctx = canvas.getContext('2d');
        circles = [];
        for (var x = 0; x < width * 0.5; x++) {
            var c = new Circle();
            circles.push(c);
        }
        animate();
    }
    function addListeners() {
        window.addEventListener('scroll', scrollCheck);
        window.addEventListener('resize', resize);
    }
    function scrollCheck() {
        if (document.body.scrollTop > height)
            animateHeader = false;
        else
            animateHeader = true;
    }
    function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        largeHeader.style.height = height + 'px';
        canvas.width = width;
        canvas.height = height;
    }
    function animate() {
        if (animateHeader) {
            ctx.clearRect(0, 0, width, height);
            for (var i in circles) {
                circles[i].draw();
            }
        }
        requestAnimationFrame(animate);
    }
    function Circle() {
        var _this = this;
        (function() {
            _this.pos = {};
            init();
            console.log(_this);
        })();
        function init() {
            _this.pos.x = Math.random() * width;
            _this.pos.y = height + Math.random() * 100;
            _this.alpha = 0.1 + Math.random() * 0.3;
            _this.scale = 0.1 + Math.random() * 0.3;
            _this.velocity = Math.random();
        }
        this.draw = function() {
            if (_this.alpha <= 0) {
                init();
            }
            _this.pos.y -= _this.velocity;
            _this.alpha -= 0.0005;
            ctx.beginPath();
            ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);
            ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';
            ctx.fill();
        };
    }
})();
</script>
</body>
</html>
